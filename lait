#!/usr/bin/env python
import pygame
from pygame.locals import *
import liblait.pyganim
from liblait import scalehandler, Settings, mainmenu
import yaml
import os


if __name__ == '__main__':
    GAMEDIR=os.path.dirname(os.path.realpath(__file__))
    settings = Settings.SETTINGS(GAMEDIR)
    pygame.display.init()
    flags = 0
    if settings.fullscreen:
        flags = pygame.FULLSCREEN|pygame.HWSURFACE
    elif settings.borderless:
        flags = pygame.NOFRAME|pygame.RESIZABLE
    else:
        flags = pygame.RESIZABLE
    screen = pygame.display.set_mode((settings.res_x,settings.res_y),flags)
    m = mainmenu.mainMenu(screen,settings)
    nextaction = m.run()
    if nextaction == 'quit':
        pygame.quit()
